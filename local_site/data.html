<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Threads & Temperatures — Data</title>
<link rel="stylesheet" href="assets/style.css"/>
</head>
<body>

<nav class="nav">
  <div class="nav-inner">
    <div class="brand">
      <img src="assets/img/logo.png" alt="Threads & Temperatures logo" class="logo">
      Threads & Temperatures
    </div>
    <div class="menu"><a href="index.html">Home</a><a href="games.html">Games</a><a href="data.html" style="background:rgba(76,201,240,.22)">Data</a><a href="articles.html">News Hub</a><a href="charities.html">Charities</a></div>
  </div>
</nav>

<main class="container">

<section class="card">
  <h1>Data</h1>
  <p>This page loads <code>data.json</code> and renders a sortable table (client‑side only).</p>
  <div style="overflow:auto">
    <table class="table" id="dataTable">
      <thead>
        <tr>
          <th data-key="id">ID ▲</th>
          <th data-key="name">Name</th>
          <th data-key="category">Category</th>
          <th data-key="value">Value</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</section>
<script>
(async function(){
  const res = await fetch('assets/data.json');
  const rows = await res.json();
  let sortKey = 'id', asc = true;
  const tbody = document.querySelector('#dataTable tbody');
  const heads = document.querySelectorAll('#dataTable thead th');
  heads.forEach(th=>th.addEventListener('click',()=>{
    const key = th.dataset.key;
    asc = sortKey === key ? !asc : true;
    sortKey = key;
    render();
    heads.forEach(h=>h.textContent=h.textContent.replace(' ▲','').replace(' ▼',''));
    th.textContent = th.textContent.replace(' ▲','').replace(' ▼','') + (asc?' ▲':' ▼');
  }));
  function render(){
    const sorted = rows.slice().sort((a,b)=>{
      if(a[sortKey] < b[sortKey]) return asc?-1:1;
      if(a[sortKey] > b[sortKey]) return asc?1:-1;
      return 0;
    });
    tbody.innerHTML = sorted.map(r=>`<tr><td>${r.id}</td><td>${r.name}</td><td>${r.category}</td><td>${r.value}</td></tr>`).join('');
  }
  render();
})();
</script>

</main>
<footer class="container">© <span id="year"></span> • Made locally</footer>
<script src="assets/script.js"></script>
</body>
</html>
